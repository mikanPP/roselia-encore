"use strict";"use strict";!function(e){let t=function(e){let n=new Date,a=t.utils;this.createElement=function(t,n){let i=document.createElement("div"),l=document.createElement("a");l.setAttribute("target","_blank");let o=document.createElement("span");o.setAttribute("style","opacity: 0;"),o.innerHTML=t.text,o.style.marginLeft=t.marginLeft||e.global.marginLeft||"37%",o.style.color=t.textColor||e.global.textColor||"",l.addEventListener("mouseenter",n=>{o.style.opacity=100,n.target.style.height=(e.global.hoverHeight||t.hoverHeight)+"px"}),l.addEventListener("mouseout",n=>{o.style.opacity=0,n.target.style.height=(e.global.defaultHeight||t.defaultHeight)+"px"}),this.aElement=l,this.divElement=i,this.spanElement=o,this.aElement.style.cssText=`\n            background: ${t.color};\n            background-size: cover;\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            width: 100vw;\n            height: ${t.defaultHeight||e.global.defaultHeight}px;\n            z-index: 99999;\n            `,["div","a","span"].forEach(e=>a.deepExtend(this[e+"Element"],t[e+"Extend"]||{})),l.appendChild(o),i.appendChild(l),this.parent=n,document.body.insertBefore(i,this.parent||document.body.firstChild)},e.global=e.global||{},a.deepExtend(e.global,{element:null,hoverHeight:25,defaultHeight:5,marginLeft:"37%",data:{}});let i=e.events;i.forEach(t=>{t.data&&Object.assign(t.data,e.global.data),(t.needsRender||[]).forEach(n=>new Function("e","_","o",`e.${n} = _.render(e.${n}, e.data, o.global.delim);`)(t,a,e))});let l=i.filter(t=>"function"==typeof t.date?t.date(n):a.sameDate(t.date,n,t.match||e.global.match));this.targets=l.length?l:i.filter(e=>"else"===e.date),this.targets.forEach(t=>this.createElement(t,t.element||e.global.element)),this.destroy=function(){this.divElement&&(this.parent||document.body).removeChild(this.divElement)}};t.of=function(e){return new this(e)},t.utils={forEach(e,t){for(let n in e)t(e[n],n,e)},reduce(e,t,n){return this.forEach(e,(...e)=>n=t(n,...e)),n},procedure:(...e)=>e.reduce((e,t)=>t(e)),applyTo:(e,...t)=>t.forEach(t=>t(e)),sameDate:(e,t,n)=>"never"!==e&&"else"!==e&&("always"===e||(n||["Month","Date"]).map(e=>e.toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())).every(n=>(e=>((e,t)=>(n,a)=>t(e(n),e(a)))(e,(e,t)=>e===t))(e=>e["get"+n]&&e["get"+n]())(new Date(e),t))),_render(e,t,n){return n=n||["{{","}}"],this.reduce(t,(e,t,a)=>e.replace(new RegExp(n.join(`\\s*?${a}\\s*?`),"g"),t),e)},render:(e,t,n)=>e.replace(new RegExp((n||["{{","}}"]).join("\\s*?(.*?)\\s*?"),"gm"),(e,n)=>new Function("data",(e=>`with(data || {}) {return (${e});}`)(n))(t)),extend(e,t){this.forEach(t,(t,n)=>e[n]=e[n]||t)},deepExtend(e,t){return t=t||{},this.forEach(t,(t,n)=>{e[n]="object"==typeof t?this.deepExtend(e[n],t):e[n]||t}),e}},t.helper=((e,t)=>t.map(t=>Object.assign(JSON.parse(JSON.stringify(e)),{data:Object.assign({},e.data||{},t)}))),e.AdovecNotify=t}(window);